<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><title>Xman</title><meta name="author" content="Xman"><meta name="copyright" content="Xman"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="深大信安Aurora&#x2F;国际战队r3kapig逆向手，擅长坐牢">
<meta property="og:type" content="website">
<meta property="og:title" content="Xman">
<meta property="og:url" content="https://xiananren.github.io/index.html">
<meta property="og:site_name" content="Xman">
<meta property="og:description" content="深大信安Aurora&#x2F;国际战队r3kapig逆向手，擅长坐牢">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://pic.imgdb.cn/item/63f38a68f144a010071d33b2.jpg">
<meta property="article:author" content="Xman">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://pic.imgdb.cn/item/63f38a68f144a010071d33b2.jpg"><link rel="shortcut icon" href="https://xiananren-1308648057.cos.ap-guangzhou.myqcloud.com/image-20230221135524334.png"><link rel="canonical" href="https://xiananren.github.io/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Xman',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2024-09-01 23:58:30'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="Xman" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://pic.imgdb.cn/item/63f38a68f144a010071d33b2.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">32</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">18</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('https://pic.imgdb.cn/item/63f38be8f144a010071fc735.png')"><nav id="nav"><span id="blog-info"><a href="/" title="Xman"><span class="site-name">Xman</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">Xman</h1></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2024/08/26/UEFI%20SMM%E9%A2%98%E7%9B%AE%E8%AE%AD%E7%BB%83/" title="UEFI SMM题目训练"><img class="post-bg" src="https://xiananren-1308648057.cos.ap-guangzhou.myqcloud.com/image-20240826172151044.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="UEFI SMM题目训练"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/08/26/UEFI%20SMM%E9%A2%98%E7%9B%AE%E8%AE%AD%E7%BB%83/" title="UEFI SMM题目训练">UEFI SMM题目训练</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-08-26T08:43:13.355Z" title="发表于 2024-08-26 16:43:13">2024-08-26</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%9B%BA%E4%BB%B6%E6%BC%8F%E6%B4%9E/">固件漏洞</a></span></div><div class="content">专门记录SMM相关题目。能找到的题目+有wp的题目都会陆续复现。
UIUCTF 2022-smm_cowsay_1题目描述One of our engineers thought it would be a good idea to write Cowsay inside SMM. Then someone outside read out the trade secret (a.k.a. flag) stored at physical address 0x44440000, and since it could only be read from SMM, that can only mean one thing: it… was a horrible idea.
题目文件结构123456789101112131415161718192021222324252627282930313233343536├── chal_build│   ├── Dockerfile│   ├── handout-readme│   ├── handout_run.sh│   ├── patches│ ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/08/23/UEFI%E5%9B%BA%E4%BB%B6%E6%BC%8F%E6%B4%9E%E5%AD%A6%E4%B9%A0/" title="UEFI固件漏洞学习"><img class="post-bg" src="https://xiananren-1308648057.cos.ap-guangzhou.myqcloud.com/image-20240823100432360.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="UEFI固件漏洞学习"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/08/23/UEFI%E5%9B%BA%E4%BB%B6%E6%BC%8F%E6%B4%9E%E5%AD%A6%E4%B9%A0/" title="UEFI固件漏洞学习">UEFI固件漏洞学习</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-08-23T01:38:52.046Z" title="发表于 2024-08-23 09:38:52">2024-08-23</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%9B%BA%E4%BB%B6%E6%BC%8F%E6%B4%9E/">固件漏洞</a></span></div><div class="content">工作需要，进行一波学习
前置知识UEFIUEFI是描述开发固件（特别是BIOS）标准接口集的规范。该固件是启动期间在CPU上执行的第一批内容，负责初始化硬件并进行设置，从而让操作系统可以启动。该固件存储在计算机SPI Flash中。攻击者如果成功攻击这个硬件，就可以在硬盘以外的其他位置实现持久性。
SMM系统管理模式（System Management mode）（以下简称SMM）是Intel在80386SL之后引入x86体系结构的一种CPU的执行模式。系统管理模式只能通过系统管理中断（System Management Interrupt, SMI）进入，并只能通过执行RSM指令退出。SMM模式对操作系统透明，换句话说，操作系统根本不知道系统何时进入SMM模式，也无法感知SMM模式曾经执行过。为了实现SMM，Intel在其CPU上新增了一个引脚SMI# Pin，当这个引脚上为高电平的时候，CPU会进入该模式。在SMM模式下一切被都屏蔽，包括所有的中断。SMM模式下的执行的程序被称作SMM处理程序，所有的SMM处理程序只能在称作系统管理内存（System Management RAM, ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/05/16/%E5%86%85%E6%A0%B8pwn%E5%88%B7%E9%A2%98%E7%AC%94%E8%AE%B0/" title="内核pwn刷题笔记"><img class="post-bg" src="https://xiananren-1308648057.cos.ap-guangzhou.myqcloud.com/image-20240516011457265.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="内核pwn刷题笔记"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/05/16/%E5%86%85%E6%A0%B8pwn%E5%88%B7%E9%A2%98%E7%AC%94%E8%AE%B0/" title="内核pwn刷题笔记">内核pwn刷题笔记</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-05-15T17:12:13.852Z" title="发表于 2024-05-16 01:12:13">2024-05-16</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/pwn/">pwn</a></span></div><div class="content">刷题记录，可能会非常乱，因为我主要是服务于自己，写的时候大概会主要写自己想要巩固的部分。(我这个人，什么事都只想着自己呢)
qwb2018 core(rop)内核pwn初体验，非常好玩儿,主要是看着这个复现https://arttnba3.cn/2021/03/03/PWN-0X00-LINUX-KERNEL-PWN-PART-I/#0x06-Kernel-Heap-Heap-Spraying
首先拿到内核文件系统

毕竟是第一次做，解释一下每个文件
https://zhuanlan.zhihu.com/p/466591309

bzimage

bzImage是最终生成的内核映像文件，可以理解为压缩后的vmlinux。可以用extract-vmlinux提取vmlinux

vmlinux

vmlinux 是静态编译，未经过压缩的 kernel 文件
内核源码根目录下比较大的vmlinux就是第一次编译链接生成的ELF文件，如果内核开启了调试选项，那么crash工具加载的就是这个vmlinux来获取符号信息等，debug-info包里的就是这个vmlinux
总而言之里面大概是有符 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/05/03/miasm%E3%80%903%E3%80%91--shellcode%E5%88%86%E6%9E%90/" title="miasm学习【3】--动态shellcode分析"><img class="post-bg" src="https://xiananren-1308648057.cos.ap-guangzhou.myqcloud.com/image-20240418202703334.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="miasm学习【3】--动态shellcode分析"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/05/03/miasm%E3%80%903%E3%80%91--shellcode%E5%88%86%E6%9E%90/" title="miasm学习【3】--动态shellcode分析">miasm学习【3】--动态shellcode分析</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-05-03T05:03:50.195Z" title="发表于 2024-05-03 13:03:50">2024-05-03</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/miasm/">miasm</a></span></div><div class="content">本文又又又是基于官方blog进行复现，由于第二部分动态符号执行遇到了点问题，先学shellcode分析得了。
https://miasm.re/blog/2016/02/12/dynamic_shellcode_analysis.html
虽然是8年前的东西了，但是我真没找到其他的适合的有样本有代码有复现的文章了。那就学
</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/04/30/D3ctf-D3car%E5%A4%8D%E7%8E%B0/" title="车联网入门第一题--D3ctf-d3car"><img class="post-bg" src="https://xiananren-1308648057.cos.ap-guangzhou.myqcloud.com/image-20240430224550206.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="车联网入门第一题--D3ctf-d3car"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/04/30/D3ctf-D3car%E5%A4%8D%E7%8E%B0/" title="车联网入门第一题--D3ctf-d3car">车联网入门第一题--D3ctf-d3car</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-04-30T06:02:57.251Z" title="发表于 2024-04-30 14:02:57">2024-04-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E8%BD%A6%E8%81%94%E7%BD%91/">车联网</a></span></div><div class="content">周末和烧卖激情的打了D3ctf，逆向没啥特别想记录的，主要是这次是本人第一次接触车机类的题目，主要时间在和师傅们一起做这个，感觉非常有意思，学到很多，但是最后还是只日出来一个flag，后面俩没日出来。不过日的时候疯狂搜索各种相关知识，也算小小的入了一点点门了？之后再找点相关
发现环境已经寄了，只能靠回忆来复现了
分三部分，相关知识介绍，自己做的部分和复现的部分
相关知识mqtt简述MQTT 是一种基于标准的消息传递协议或规则集，用于机器对机器的通信。智能传感器、可穿戴设备和其他物联网（IoT）设备通常必须通过带宽有限的资源受限网络传输和接收数据。这些物联网设备使用 MQTT 进行数据传输，因为它易于实施，并且可以有效地传输物联网数据。MQTT 支持设备到云端和云端到设备之间的消息传递。
原理mqtt是基于发布&#x2F;订阅模型工作的协议，和普通的网络通信协议不一样，一般的网络通信协议是服务端和客户端相互通信，但是mqtt是引入了一个代理，每个客户端（用mqtt通信的设备都可以叫mqtt客户端）都可以是发布者和订阅者。如果是订阅消息，就是客户端向代理发送SUBSCRIBE，后接一个表示 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/04/29/240428/" title="24/04/28"><img class="post-bg" src="https://xiananren-1308648057.cos.ap-guangzhou.myqcloud.com/image-20240429115555991.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="24/04/28"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/04/29/240428/" title="24/04/28">24/04/28</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-04-29T03:40:38.718Z" title="发表于 2024-04-29 11:40:38">2024-04-29</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%97%A5%E8%AE%B0/">日记</a></span></div><div class="content">又是好多天没记录。虽然确实没啥好记的，2425忙着改论文开组会，改完就萎了然后打瓦连跪。
miasm看了，但是没看多少，后面再记录。
主要是跟着烧卖打了两天d3ctf，打满了。这次除了做了逆向，主要时间居然是在做车联网的题。因为他们说是安卓，我直接放下本来在看的(还好放下了)最后都是0解的一个re题屁颠屁颠去看了。结果发现没有日车机的经验不知道怎么下手。但是和烧卖的师傅们一起讨论把一些坑和流程都走了，也学了很多车机相关的协议和分析手法。确实很好玩，我感觉比逆向好玩（草或者说，至少比我接着日那个0解的Verilog好玩，也能学很多东西。
总而言之爽到了。虽然环境有点绷不住连一次10分钟容器还经常炸，虽然最后被wm超了一道题又又又第二，但是爽到了。
官方wp发完要狠狠的复现一波
打完d3后连开两把瓦，在赛季末上黄金了。功夫不负有心人

</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/04/23/240423/" title="24/04/23"><img class="post-bg" src="https://xiananren-1308648057.cos.ap-guangzhou.myqcloud.com/image-20240423225916544.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="24/04/23"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/04/23/240423/" title="24/04/23">24/04/23</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-04-23T14:24:01.025Z" title="发表于 2024-04-23 22:24:01">2024-04-23</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%97%A5%E8%AE%B0/">日记</a></span></div><div class="content">在广州和烧卖的师傅吃吃喝喝玩了两天，回来改毕设了
今日把毕设打回来的部分改了一大半，剩下的明天再说。
吃完午饭和学弟打了一把瓦，40杀，爽了一天

下午看了一下午miasm。真的想吐槽miasm的网上的示例，全都是python2版本的，第一次跑必报错。每次翻源码debug好久才能正常跑，而今天的动态符号执行的例子直接寄了，跑出来约束莫得，大概是模拟的时候错了。哎晕了
晚上把安卓的activity漏洞看了一遍，具体就
越权绕过原理就是把activity设置为导出了，导致可能被其他程序直接调用导致各种风险。按照ctf的话来说就像你直接绕过输入验证的步骤直接跳到了flag的界面。因为flag界面默认设置为导出(我还真这样做出过一道题)。方式也很多，编写apk调用或者用am去直接拉起来都行。
防护就别乱开export，检查intent-filter防止被恶意广播捕获然后干掉了。
钓鱼欺诈就是在正常程序上面悬浮恶意钓鱼软件的界面，比如你点开微信输入密码后发现输入到的是悬浮的恶意软件的窗口，微信的界面在下面被盖住了。原理也很简单，就是activity的历史栈，如果给activity设置FLAGAC ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/04/19/240419/" title="24/04/19"><img class="post-bg" src="https://xiananren-1308648057.cos.ap-guangzhou.myqcloud.com/image-20240419223347035.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="24/04/19"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/04/19/240419/" title="24/04/19">24/04/19</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-04-19T14:32:16.237Z" title="发表于 2024-04-19 22:32:16">2024-04-19</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%97%A5%E8%AE%B0/">日记</a></span></div><div class="content">突然想记录一下每天干的事情，因为一天过去不知道干了啥，不知道能坚持多久，希望能坚持100天。
今日看安卓漏洞战争，大体了解了安卓各种漏洞类型，安了python3的drozen环境。很难装，很抽象，但是装上了。
学了activity的漏洞类型和原理。
显式隐式调用Intent，Intent的action和category，activity的生命周期的总流程，activity的四种启动模式。
常见安全漏洞看了四大组件的常见漏洞起因和保护
https://ayesawyer.github.io/2019/08/21/Android-App%E5%B8%B8%E8%A7%81%E5%AE%89%E5%85%A8%E6%BC%8F%E6%B4%9E/
主要是在学原理，还没开始实战，也只装了环境。
下午运维了一下服务器，晚上学了unity，把flappy bird的碰撞检测加上了。
明天大概没记录，因为去广州蹭打长城杯的学弟的10人房子🤺了
</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/04/18/miasm%E5%AD%A6%E4%B9%A0%E3%80%902%E3%80%91--%E5%8A%A8%E6%80%81%E7%AC%A6%E5%8F%B7%E6%89%A7%E8%A1%8C/" title="miasm学习【2】--动态符号执行"><img class="post-bg" src="https://xiananren-1308648057.cos.ap-guangzhou.myqcloud.com/image-20240418202703334.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="miasm学习【2】--动态符号执行"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/04/18/miasm%E5%AD%A6%E4%B9%A0%E3%80%902%E3%80%91--%E5%8A%A8%E6%80%81%E7%AC%A6%E5%8F%B7%E6%89%A7%E8%A1%8C/" title="miasm学习【2】--动态符号执行">miasm学习【2】--动态符号执行</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-04-18T08:19:37.059Z" title="发表于 2024-04-18 16:19:37">2024-04-18</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/miasm/">miasm</a></span></div><div class="content">试试miasm的符号执行。虽然感觉miasm比较老学了不知道有没有用，不过先学几天玩玩也不是不行
仍然是看的官方blog
https://miasm.re/blog/2017/10/05/playing_with_dynamic_symbolic_execution.html
这次环境纯Ubuntu22+miasm0.1.3+vscode remote，不想再被0.1.5折磨了，遂更换。
动态符号执行动态符号执行（Dynamic Symbolic Execution）是一种软件测试和分析技术，用于自动化地探索程序的执行路径和输入空间。与传统的静态分析或基于覆盖率的测试方法相比，动态符号执行具有更高的覆盖率和更好的路径探索能力。
模拟用tigress的一个程序来测试miasm的动态符号执行
https://github.com/JonathanSalwan/Tigress_protection/blob/master/tigress-challenges/tigress-0-challenge-0
1234567891011121314from miasm.analysis.sandbo ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/04/16/miasm%E5%AD%A6%E4%B9%A0(1)/" title="miasm学习【1】--分析并去除smc"><img class="post-bg" src="https://xiananren-1308648057.cos.ap-guangzhou.myqcloud.com/image-20240416234355672.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="miasm学习【1】--分析并去除smc"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/04/16/miasm%E5%AD%A6%E4%B9%A0(1)/" title="miasm学习【1】--分析并去除smc">miasm学习【1】--分析并去除smc</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-04-16T14:12:13.762Z" title="发表于 2024-04-16 22:12:13">2024-04-16</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/miasm/">miasm</a></span></div><div class="content">由于大神推荐加上无聊，准备开坑学习一下miasm。网上相关资料并不算很多，而且很多脚本和api都是python2的，我用的python3没法直接跑那些脚本，有点难绷，所以开个博客记录一下各种问题，顺便留个档。miasm版本windows是0.1.5，Ubuntu是0.1.3.操作系统环境是windows和Ubuntu，ide是pycharm和vscode+remote。
初探由于是初学，翻了一下官方的网站找到一个博客
https://miasm.re/blog/2016/01/27/re150.html
跟着学一学
首先用ida打开示例的程序


发现其start处的汇编代码是一个非常明显的smc。我们这里用miasm进行分析，不直接调试了。
注意，因为需要用到jit，而windows似乎用不了，所以此处转Ubuntu。
1234567891011121314import osfrom miasm.analysis.sandbox import Sandbox_Linux_x86_64# Insert here user defined methods# Parse arguments ...</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/#content-inner">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/#content-inner">4</a><a class="extend next" rel="next" href="/page/2/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://pic.imgdb.cn/item/63f38a68f144a010071d33b2.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Xman</div><div class="author-info__description">深大信安Aurora/国际战队r3kapig逆向手，擅长坐牢</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">32</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">18</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">live a life</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/08/26/UEFI%20SMM%E9%A2%98%E7%9B%AE%E8%AE%AD%E7%BB%83/" title="UEFI SMM题目训练"><img src="https://xiananren-1308648057.cos.ap-guangzhou.myqcloud.com/image-20240826172151044.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="UEFI SMM题目训练"/></a><div class="content"><a class="title" href="/2024/08/26/UEFI%20SMM%E9%A2%98%E7%9B%AE%E8%AE%AD%E7%BB%83/" title="UEFI SMM题目训练">UEFI SMM题目训练</a><time datetime="2024-08-26T08:43:13.355Z" title="发表于 2024-08-26 16:43:13">2024-08-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/08/23/UEFI%E5%9B%BA%E4%BB%B6%E6%BC%8F%E6%B4%9E%E5%AD%A6%E4%B9%A0/" title="UEFI固件漏洞学习"><img src="https://xiananren-1308648057.cos.ap-guangzhou.myqcloud.com/image-20240823100432360.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="UEFI固件漏洞学习"/></a><div class="content"><a class="title" href="/2024/08/23/UEFI%E5%9B%BA%E4%BB%B6%E6%BC%8F%E6%B4%9E%E5%AD%A6%E4%B9%A0/" title="UEFI固件漏洞学习">UEFI固件漏洞学习</a><time datetime="2024-08-23T01:38:52.046Z" title="发表于 2024-08-23 09:38:52">2024-08-23</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/05/16/%E5%86%85%E6%A0%B8pwn%E5%88%B7%E9%A2%98%E7%AC%94%E8%AE%B0/" title="内核pwn刷题笔记"><img src="https://xiananren-1308648057.cos.ap-guangzhou.myqcloud.com/image-20240516011457265.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="内核pwn刷题笔记"/></a><div class="content"><a class="title" href="/2024/05/16/%E5%86%85%E6%A0%B8pwn%E5%88%B7%E9%A2%98%E7%AC%94%E8%AE%B0/" title="内核pwn刷题笔记">内核pwn刷题笔记</a><time datetime="2024-05-15T17:12:13.852Z" title="发表于 2024-05-16 01:12:13">2024-05-16</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/05/03/miasm%E3%80%903%E3%80%91--shellcode%E5%88%86%E6%9E%90/" title="miasm学习【3】--动态shellcode分析"><img src="https://xiananren-1308648057.cos.ap-guangzhou.myqcloud.com/image-20240418202703334.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="miasm学习【3】--动态shellcode分析"/></a><div class="content"><a class="title" href="/2024/05/03/miasm%E3%80%903%E3%80%91--shellcode%E5%88%86%E6%9E%90/" title="miasm学习【3】--动态shellcode分析">miasm学习【3】--动态shellcode分析</a><time datetime="2024-05-03T05:03:50.195Z" title="发表于 2024-05-03 13:03:50">2024-05-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/04/30/D3ctf-D3car%E5%A4%8D%E7%8E%B0/" title="车联网入门第一题--D3ctf-d3car"><img src="https://xiananren-1308648057.cos.ap-guangzhou.myqcloud.com/image-20240430224550206.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="车联网入门第一题--D3ctf-d3car"/></a><div class="content"><a class="title" href="/2024/04/30/D3ctf-D3car%E5%A4%8D%E7%8E%B0/" title="车联网入门第一题--D3ctf-d3car">车联网入门第一题--D3ctf-d3car</a><time datetime="2024-04-30T06:02:57.251Z" title="发表于 2024-04-30 14:02:57">2024-04-30</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            <a class="card-more-btn" href="/categories/" title="查看更多">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/debug/"><span class="card-category-list-name">debug</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/miasm/"><span class="card-category-list-name">miasm</span><span class="card-category-list-count">3</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/pwn/"><span class="card-category-list-name">pwn</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E4%B9%A6%E7%B1%8D%E9%98%85%E8%AF%BB/"><span class="card-category-list-name">书籍阅读</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%9B%BA%E4%BB%B6%E6%BC%8F%E6%B4%9E/"><span class="card-category-list-name">固件漏洞</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%AE%89%E5%8D%93%E9%80%86%E5%90%91%E5%AD%A6%E4%B9%A0/"><span class="card-category-list-name">安卓逆向学习</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%B7%A5%E5%85%B7%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/"><span class="card-category-list-name">工具源码分析</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%B9%B4%E7%BB%88%E6%80%BB%E7%BB%93/"><span class="card-category-list-name">年终总结</span><span class="card-category-list-count">1</span></a></li>
            </ul></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/08/"><span class="card-archive-list-date">八月 2024</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/05/"><span class="card-archive-list-date">五月 2024</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/04/"><span class="card-archive-list-date">四月 2024</span><span class="card-archive-list-count">6</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/03/"><span class="card-archive-list-date">三月 2024</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/12/"><span class="card-archive-list-date">十二月 2023</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/11/"><span class="card-archive-list-date">十一月 2023</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/10/"><span class="card-archive-list-date">十月 2023</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/09/"><span class="card-archive-list-date">九月 2023</span><span class="card-archive-list-count">2</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">32</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2024-09-01T15:58:30.026Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By Xman</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>